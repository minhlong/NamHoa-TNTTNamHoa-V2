<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Sĩ Số</h5>
          <div class="ibox-tools">
            <button class="btn btn-default btn-xs pull-right" *ngIf="!isLoading" (click)="loadData()">Tải lại trang</button>
          </div>
        </div>
        <div class="ibox-content table-r1" [class.sk-loading]="isLoading">
          <div class="sk-spinner sk-spinner-three-bounce">
            <div class="sk-bounce1"></div>
            <div class="sk-bounce2"></div>
            <div class="sk-bounce3"></div>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>Ngành</th>
                  <th class="text-center">Sĩ Số</th>
                  <th>Xem</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{ 'AU_NHI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.au_nhi}}</td>
                  <td>
                    <button (click)="xemNganh('AU_NHI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'THIEU_NHI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.thieu_nhi}}</td>
                  <td>
                    <button (click)="xemNganh('THIEU_NHI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'NGHIA_SI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.nghia_si}}</td>
                  <td>
                    <button (click)="xemNganh('NGHIA_SI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'HT_DU_BI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.ht_du_bi}}</td>
                  <td>
                    <button (click)="xemNganh('HT_DU_BI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'HUYNH_TRUONG' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.huynh_truong}}</td>
                  <td>
                    <button (click)="xemNganh(null, 'HUYNH_TRUONG')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Chưa Điểm Danh - Ngày {{chuaDiemDanh.ngay | ngay}}</h5>
          <div class="ibox-tools">
            <button class="btn btn-default btn-xs pull-right" *ngIf="!isLoading" (click)="loadData()">Tải lại trang</button>
          </div>
        </div>
        <div class="ibox-content table-r1" [class.sk-loading]="isLoading">
          <div class="sk-spinner sk-spinner-three-bounce">
            <div class="sk-bounce1"></div>
            <div class="sk-bounce2"></div>
            <div class="sk-bounce3"></div>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>Lớp</th>
                  <th>Xem</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="!chuaDiemDanh.lop.length">
                  <td colspan="2" class="text-center">Chưa có dữ liệu.</td>
                </tr>
                <tr *ngFor="let _item of chuaDiemDanh.lop| paginate: pState; let _i = index">
                  <td>{{_item.ten}}</td>
                  <td>
                    <!-- <a class="btn btn-xs btn-default" [routerLink]="['/lop-hoc/chi-tiet', _item.id]">Lớp</a> -->
                    <button class="btn btn-xs btn-default" (click)="itemSelected = _item; openModalBtn.click()">H/Trưởng</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <app-paging [id]="pState.id" (pageChange)="pState.currentPage = $event;"></app-paging>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="khoaHienTai">
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Đi Lễ</h5>
        </div>
        <div class="ibox-content table-r2">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>
                    Phiếu
                  </th>
                  <th>
                    Điểm
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let _item of khoaHienTai.di_le | objectKeys">
                  <td>{{_item.key | phieu}}</td>
                  <td>{{_item.val}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Đi Học</h5>
        </div>
        <div class="ibox-content table-r2">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>
                    Phiếu
                  </th>
                  <th>
                    Điểm
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let _item of khoaHienTai.di_hoc | objectKeys">
                  <td>{{_item.key | phieu}}</td>
                  <td>{{_item.val}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="khoaHienTai && khoaHienTai.xep_loai">
    <div class="col-xs-12">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Xếp Loại</h5>
        </div>
        <div class="ibox-content table-r3">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr class="uppercase">
                  <th></th>
                  <th>Yếu</th>
                  <th>Trung Bình</th>
                  <th>Khá</th>
                  <th>Tốt/Giỏi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Chuyên Cần
                  </td>
                  <td>
                    <i class="fa fa-trophy"></i> &lt; {{khoaHienTai.xep_loai.CHUYEN_CAN.TB}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.CHUYEN_CAN.TB}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.CHUYEN_CAN.KHA}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.CHUYEN_CAN.GIOI}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                </tr>
                <tr>
                  <td>
                    Học Lực
                  </td>
                  <td>
                    <i class="fa fa-trophy"></i> &lt; {{khoaHienTai.xep_loai.HOC_LUC.TB}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.HOC_LUC.TB}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.HOC_LUC.KHA}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_loai.HOC_LUC.GIOI}} ≤
                    <i class="fa fa-trophy"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="khoaHienTai && khoaHienTai.xep_hang">
    <div class="col-xs-12">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Xếp Hạng</h5>
        </div>
        <div class="ibox-content table-r3">
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr class="uppercase">
                  <th></th>
                  <th>Ở Lại Lớp</th>
                  <th>Lên Lớp</th>
                  <th>Khuyến Khích</th>
                  <th>Hạng III</th>
                  <th>Hạng II</th>
                  <th>Hạng I</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Chuyên Cần
                  </td>
                  <td>
                    <i class="fa fa-user"></i> &lt; {{khoaHienTai.xep_hang.CHUYEN_CAN.LEN_LOP}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.CHUYEN_CAN.LEN_LOP}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.CHUYEN_CAN.KHUYEN_KHICH}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.CHUYEN_CAN.III}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.CHUYEN_CAN.II}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.CHUYEN_CAN.I}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                </tr>
                <tr>
                  <td>
                    Học Lực
                  </td>
                  <td>
                    <i class="fa fa-user"></i> &lt; {{khoaHienTai.xep_hang.HOC_LUC.LEN_LOP}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.HOC_LUC.LEN_LOP}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.HOC_LUC.KHUYEN_KHICH}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.HOC_LUC.III}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.HOC_LUC.II}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.HOC_LUC.I}} ≤
                    <i class="fa fa-user"></i>
                  </td>
                </tr>
                <tr>
                  <td>
                    Số Lượng
                  </td>
                  <td colspan="2"></td>
                  <td>
                    {{khoaHienTai.xep_hang.SO_LUONG.KHUYEN_KHICH}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.SO_LUONG.III}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.SO_LUONG.II}}
                  </td>
                  <td>
                    {{khoaHienTai.xep_hang.SO_LUONG.I}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <a class="btn-open-modal" data-toggle="modal" data-target="#tmpModel" #openModalBtn></a>
  <div class="modal inmodal" id="tmpModel" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" *ngIf="itemSelected">
      <div class="modal-content animated bounceInRight">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
          <h4 class="modal-title">
            {{itemSelected.ten}}
          </h4>
        </div>
        <div class="modal-body">
          <table class="table table-striped table-bordered table-hover">
            <thead>
              <tr>
                <th class="text-center">#</th>
                <th>Huynh Trưởng</th>
                <th>Điện Thoại</th>
                <th>Xem</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let _item of itemSelected.huynh_truong; let _i = index">
                <td class="text-center">
                  {{_i + 1}}
                </td>
                <td>
                  {{_item.ten_thanh}} {{_item.ho_va_ten}}
                </td>
                <td>
                  {{_item.dien_thoai}}
                </td>
                <td>
                  <a (click)="closeModalBtn.click(); xemTaiKhoan(_item)" class="btn btn-xs btn-default">
                    Xem
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default btn-sm" data-dismiss="modal" #closeModalBtn>Thoát</button>
        </div>
      </div>
    </div>
  </div>