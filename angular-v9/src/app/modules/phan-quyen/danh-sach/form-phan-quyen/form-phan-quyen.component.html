<div class="ibox">
  <div class="ibox-title">
    <h3>Phân Quyền - {{quyenInfo.ten_hien_thi}}</h3>
  </div>
  <div class="ibox-content" [class.sk-loading]="isLoading">
    <h4>Nhóm Tài Khoản</h4>
    <div class="sk-spinner sk-spinner-three-bounce">
      <div class="sk-bounce1"></div>
      <div class="sk-bounce2"></div>
      <div class="sk-bounce3"></div>
    </div>
    <div class="row">
      <div class="col-md-6 m-t-sm">
        <div class="table-responsive">
          <table class="table table-hover table-bordered">
            <thead>
              <tr>
                <th class="text-center" colspan="3">Đã Phân Quyền</th>
              </tr>
              <tr>
                <th class="text-center">
                  <input type="checkbox" (change)="checkAllTK(quyenInfo.role_nhom, $event)">
                </th>
                <th>
                  <span *ngIf="getCheckedTK(quyenInfo.role_nhom)">Đã chọn {{getCheckedTK(quyenInfo.role_nhom)}}</span>
                </th>
                <th>
                  <a (click)="xoa(null, true)" class="btn btn-xs btn-default" *ngIf="getCheckedTK(quyenInfo.role_nhom)">Hủy Đã Chọn</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let _item of quyenInfo.role_nhom | paginate: pagingNhom1; let _i = index">
                <td class="text-center">
                  <input type="checkbox" [(ngModel)]="_item.checked">
                </td>
                <td>{{_item.ten_hien_thi}}</td>
                <td>
                  <a (click)="xoa(_item.id, true)" class="btn btn-xs btn-default">Hủy</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <app-paging [id]="pagingNhom1.id" (pageChange)="pagingNhom1.currentPage = $event;"></app-paging>
      </div>
      <div class="col-md-6 m-t-sm">
        <div class="table-responsive">
          <table class="table table-hover table-bordered">
            <thead>
              <tr>
                <th class="text-center" colspan="3">Chưa Phân Quyền</th>
              </tr>
              <tr>
                <th class="text-center">
                  <input type="checkbox" (change)="checkAllTK(nhomArr, $event)">
                </th>
                <th>
                  <span *ngIf="getCheckedTK(nhomArr)">Đã chọn {{getCheckedTK(nhomArr)}}</span>
                </th>
                <th>
                  <a (click)="themNhom()" class="btn btn-xs btn-default" *ngIf="getCheckedTK(nhomArr)">Thêm Đã Chọn</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let _item of nhomArr | paginate: pagingNhom2; let _i = index">
                <td class="text-center">
                  <input type="checkbox" [(ngModel)]="_item.checked">
                </td>
                <td>{{_item.ten_hien_thi}}</td>
                <td>
                  <a (click)="themNhom(_item.id)" class="btn btn-xs btn-default">Thêm</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <app-paging [id]="pagingNhom2.id" (pageChange)="pagingNhom2.currentPage = $event;"></app-paging>
      </div>
    </div>
  </div>
  <div class="ibox-content" [class.sk-loading]="isLoading">
    <h4>Huynh Trưởng</h4>
    <div class="sk-spinner sk-spinner-three-bounce">
      <div class="sk-bounce1"></div>
      <div class="sk-bounce2"></div>
      <div class="sk-bounce3"></div>
    </div>
    <div class="row">
      <div class=" col-md-offset-6 col-md-6">
        <div class="form-group">
          <input (keyup)="filter$.next($event.target.value)" placeholder="Lọc theo tên..." type="text" class="form-control">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 m-t-sm">
        <div class="table-responsive">
          <table class="table table-hover table-bordered">
            <thead>
              <tr>
                <th class="text-center" colspan="3">Đã Phân Quyền</th>
              </tr>
              <tr>
                <th class="text-center">
                  <input type="checkbox" (change)="checkAllTK(quyenInfo.role_taikhoan, $event)">
                </th>
                <th>
                  <span *ngIf="getCheckedTK(quyenInfo.role_taikhoan)">Đã chọn {{getCheckedTK(quyenInfo.role_taikhoan)}}</span>
                </th>
                <th>
                  <a (click)="xoa()" class="btn btn-xs btn-default" *ngIf="getCheckedTK(quyenInfo.role_taikhoan)">Hủy Đã Chọn</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let _item of quyenInfo.role_taikhoan | paginate: pagingHT1; let _i = index">
                <td class="text-center">
                  <input type="checkbox" [(ngModel)]="_item.checked">
                </td>
                <td>{{_item.ten_hien_thi}}</td>
                <td>
                  <a (click)="xoa(_item.id)" class="btn btn-xs btn-default">Hủy</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <app-paging [id]="pagingHT1.id" (pageChange)="pagingHT1.currentPage = $event;"></app-paging>
      </div>
      <div class="col-md-6 m-t-sm">
        <div class="table-responsive">
          <table class="table table-hover table-bordered">
            <thead>
              <tr>
                <th class="text-center" colspan="3">Chưa Phân Quyền</th>
              </tr>
              <tr>
                <th class="text-center">
                  <input type="checkbox" (change)="checkAllTK(taiKhoanArr, $event)">
                </th>
                <th>
                  <span *ngIf="getCheckedTK(taiKhoanArr)">Đã chọn {{getCheckedTK(taiKhoanArr)}}</span>
                </th>
                <th>
                  <a (click)="themTK()" class="btn btn-xs btn-default" *ngIf="getCheckedTK(taiKhoanArr)">Thêm Đã Chọn</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let _item of taiKhoanArr | paginate: pagingHT2; let _i = index">
                <td class="text-center">
                  <input type="checkbox" [(ngModel)]="_item.checked">
                </td>
                <td>{{_item.ho_va_ten}}</td>
                <td>
                  <a (click)="themTK(_item)" class="btn btn-xs btn-default">Thêm</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <app-paging [id]="pagingHT2.id" (pageChange)="pagingHT2.currentPage = $event;"></app-paging>
      </div>
    </div>
  </div>
  <div class="ibox-footer">
    <button (click)="cancel()" class="btn btn-default btn-sm m-l-lg">Thoát</button>
  </div>
</div>