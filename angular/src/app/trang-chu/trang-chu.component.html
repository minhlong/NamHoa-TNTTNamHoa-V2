<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Sĩ Số</h5>
          <div class="ibox-tools">
            <button class="btn btn-default btn-xs pull-right" *ngIf="!isLoading" (click)="loadData()">Tải lại trang</button>
          </div>
        </div>
        <div class="ibox-content {{isLoading ? 'sk-loading' : null}}">
          <div class="sk-spinner sk-spinner-three-bounce">
            <div class="sk-bounce1"></div>
            <div class="sk-bounce2"></div>
            <div class="sk-bounce3"></div>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>Ngành</th>
                  <th class="text-center">Sĩ Số</th>
                  <th>Xem</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{ 'AU_NHI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.au_nhi}}</td>
                  <td>
                    <button (click)="xemNganh('AU_NHI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'THIEU_NHI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.thieu_nhi}}</td>
                  <td>
                    <button (click)="xemNganh('THIEU_NHI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'NGHIA_SI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.nghia_si}}</td>
                  <td>
                    <button (click)="xemNganh('NGHIA_SI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'HT_DU_BI' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.ht_du_bi}}</td>
                  <td>
                    <button (click)="xemNganh('HT_DU_BI', 'THIEU_NHI')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>{{ 'HUYNH_TRUONG' | nganh | loaiTK }}</td>
                  <td class="text-center">{{siSo.huynh_truong}}</td>
                  <td>
                    <button (click)="xemNganh(null, 'HUYNH_TRUONG')" class="btn btn-default btn-xs">
                      Xem
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Chưa Điểm Danh - Ngày {{chuaDiemDanh.ngay | ngay}}</h5>
          <div class="ibox-tools">
            <button class="btn btn-default btn-xs pull-right" *ngIf="!isLoading" (click)="loadData()">Tải lại trang</button>
          </div>
        </div>
        <div class="ibox-content {{isLoading ? 'sk-loading' : null}}">
          <div class="sk-spinner sk-spinner-three-bounce">
            <div class="sk-bounce1"></div>
            <div class="sk-bounce2"></div>
            <div class="sk-bounce3"></div>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th>Tên Lớp</th>
                  <th>Xem</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="!chuaDiemDanh.lop.length">
                  <td colspan="10" class="text-center">Chưa có dữ liệu.</td>
                </tr>
                <tr *ngFor="let _item of chuaDiemDanh.lop| paginate: pState; let _i = index">
                  <td>{{_item.ten}}</td>
                  <td>
                    <a class="btn btn-xs btn-default" [routerLink]="['/lop-hoc/chi-tiet', _item.id]">Lớp</a>
                    <button class="btn btn-xs btn-default" (click)="itemSelected = _item; openModalBtn.click()">H/Trưởng</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <pagination-template #ep="paginationApi" [id]="pState.id" (pageChange)="pState.currentPage = $event;">
            <div class="text-center">
              <div class="btn-group">
                <button *ngIf="ep.isFirstPage()" type="button" class="btn btn-sm btn-white disabled"><i class="fa fa-chevron-left"></i></button>
                <button (click)="ep.previous()" *ngIf="!ep.isFirstPage()" type="button" class="btn btn-sm btn-white"><i class="fa fa-chevron-left"></i></button>
                <ng-container *ngFor="let page of ep.pages">
                  <button *ngIf="ep.getCurrent() !== page.value" (click)="ep.setCurrent(page.value)" class="btn btn-sm btn-white">{{ page.label }}</button>
                  <button *ngIf="ep.getCurrent() === page.value" class="btn btn-sm btn-white active">{{ page.label }}</button>
                </ng-container>
                <button *ngIf="ep.isLastPage()" type="button" class="btn btn-sm btn-white disabled"><i class="fa fa-chevron-right"></i></button>
                <button (click)="ep.next()" *ngIf="!ep.isLastPage()" type="button" class="btn btn-sm btn-white"><i class="fa fa-chevron-right"></i></button>
              </div>
            </div>
          </pagination-template>
        </div>
      </div>
    </div>
  </div>
</div>
<a class="btn-open-modal" data-toggle="modal" data-target="#locationThing" #openModalBtn></a>
<div class="modal inmodal" id="locationThing" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" *ngIf="itemSelected">
    <div class="modal-content animated bounceInRight">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title">
          {{itemSelected.ten}}
        </h4>
      </div>
      <div class="modal-body">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th class="text-center">#</th>
              <th>Huynh Trưởng</th>
              <th>Điện Thoại</th>
              <th>Xem</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let _item of itemSelected.huynh_truong; let _i = index">
              <td class="text-center">
                {{_i + 1}}
              </td>
              <td>
                {{_item.ten_thanh}} {{_item.ho_va_ten}}
              </td>
              <td>
                {{_item.dien_thoai}}
              </td>
              <td>
                <a (click)="closeModalBtn.click(); xemTaiKhoan(_item)" class="btn btn-xs btn-default">
                  Xem
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal" #closeModalBtn>Thoát</button>
      </div>
    </div>
  </div>
</div>